{"ast":null,"code":"import _slicedToArray from\"/Users/jawright/MIT/bank/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import Card from\"./card\";import{UserContext}from\"../App\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Withdraw(){var ctx=React.useContext(UserContext);var _React$useState=React.useState(''),_React$useState2=_slicedToArray(_React$useState,2),withdraw=_React$useState2[0],setWithdraw=_React$useState2[1];var _React$useState3=React.useState(''),_React$useState4=_slicedToArray(_React$useState3,2),status=_React$useState4[0],setStatus=_React$useState4[1];var user=ctx.users[0];function handleWithdraw(){//console.log(withdraw);\nvar submitElement=document.getElementById(\"withdraw-button\");if(submitElement.disabled===true)return;//check that the deposit value is a number!\nif(isNaN(parseInt(withdraw))){setStatus('Error: withdraw must be a number');setTimeout(function(){return setStatus('');},4000);return;}//check that the withdraw value is less than balance!\nif(parseInt(withdraw)>=parseInt(user.balance)){setStatus('Error: withdraw must be less than balance');setTimeout(function(){return setStatus('');},4000);return;}var total=parseInt(user.balance)-parseInt(withdraw);//console.log(total);\nctx.users[0].balance=total;alert('Successfull Withdraw');setWithdraw('');}function handleBlur(event){//console.log('hi');\nvar submitElement=document.getElementById(\"withdraw-button\");if(submitElement!=null&&!withdraw){submitElement.disabled=true;}else if(submitElement!=null){submitElement.removeAttribute(\"disabled\");}}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{children:\" Withdraw\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Card,{bgcolor:\"danger\",status:status,body:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:\"Balance\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"col\",children:[\"$\",user.balance]})]}),/*#__PURE__*/_jsx(\"br\",{}),\"Withdraw Amount\",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"input\",className:\"form-control\",id:\"widthdraw\",placeholder:\"Withdraw Amount\",value:withdraw,onChange:function onChange(e){return setWithdraw(e.currentTarget.value);},onBlur:function onBlur(e){return handleBlur(e);}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{onClick:handleWithdraw,children:/*#__PURE__*/_jsx(\"button\",{id:\"withdraw-button\",type:\"submit\",className:\"btn btn-light\",disabled:true,children:\"Withdraw\"})})]})})]});}export default Withdraw;","map":{"version":3,"sources":["/Users/jawright/MIT/bank/src/Components/withdraw.jsx"],"names":["React","Card","UserContext","Withdraw","ctx","useContext","useState","withdraw","setWithdraw","status","setStatus","user","users","handleWithdraw","submitElement","document","getElementById","disabled","isNaN","parseInt","setTimeout","balance","total","alert","handleBlur","event","removeAttribute","e","currentTarget","value"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Card from \"./card\";\nimport {UserContext} from \"../App\";\n\nfunction Withdraw(){\n\n    const ctx = React.useContext(UserContext);\n    const [withdraw, setWithdraw] = React.useState(''); \n    const [status, setStatus]     = React.useState('');\n    const user = ctx.users[0];\n  \n    function handleWithdraw(){\n      //console.log(withdraw);\n\n      const submitElement = document.getElementById(\"withdraw-button\");\n      if(submitElement.disabled === true) return;\n\n      //check that the deposit value is a number!\n      if (isNaN(parseInt(withdraw))){\n        setStatus('Error: withdraw must be a number');\n        setTimeout(() => setStatus(''),4000);\n        return;\n      }\n  \n      //check that the withdraw value is less than balance!\n      if (parseInt(withdraw) >= parseInt(user.balance)){\n        setStatus('Error: withdraw must be less than balance');\n        setTimeout(() => setStatus(''),4000);\n        return;\n      }\n  \n      var total = parseInt(user.balance) - parseInt(withdraw);\n      //console.log(total);\n      ctx.users[0].balance = total;\n      alert('Successfull Withdraw');\n      setWithdraw('');\n    }  \n  \n    function handleBlur(event){\n      //console.log('hi');\n      const submitElement = document.getElementById(\"withdraw-button\");\n   \n      if((submitElement != null) && (!withdraw) ){\n        submitElement.disabled = true;\n      }\n      else if (submitElement != null){\n        submitElement.removeAttribute(\"disabled\");\n      }\n      \n    }\n  \n    return (\n      <>\n      <h1> Withdraw</h1>\n      <br/><Card\n          bgcolor=\"danger\"\n          status={status}\n          body={  \n                  <>\n                  <div className=\"row\">\n                   <div className=\"col\">\n                   Balance\n                   </div>\n                   <div className=\"col\">\n                   ${user.balance}\n                   </div>\n  \n              \n                   </div>\n  \n                  \n                 <br/>\n                  Withdraw Amount<br/>\n                  <input type=\"input\" className=\"form-control\" id=\"widthdraw\" placeholder=\"Withdraw Amount\" value={withdraw} onChange={e => setWithdraw(e.currentTarget.value)} onBlur={e => handleBlur(e)}/><br/>\n                  <div onClick={handleWithdraw}><button id=\"withdraw-button\" type=\"submit\" className=\"btn btn-light\" disabled>Withdraw</button></div>\n                  </>\n               }\n        />\n        </>\n    )\n  }\n  export default Withdraw;\n  "]},"metadata":{},"sourceType":"module"}